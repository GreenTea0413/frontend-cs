# ğŸ” ì´ë²¤íŠ¸ ë£¨í”„ (Event Loop)

## ë¨¼ì € ì•Œì•„ì•¼ í•  ê°œë…
- ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì‹±ê¸€ ìŠ¤ë ˆë“œ ì–¸ì–´
- ì¦‰, í•œ ë²ˆì— í•œ ê°€ì§€ ì‘ì—…ë§Œ ìˆ˜í–‰í•  ìˆ˜ ìˆìŒ
- ê·¸ëŸ°ë°ë„ ë™ì‹œì— ì—¬ëŸ¬ ì‘ì—…ì´ ì§„í–‰ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ëŠ” ì´ìœ ?
â†’ ì´ë²¤íŠ¸ ë£¨í”„(Event Loop) ë•ë¶„!

â¸»

### ìë°”ìŠ¤í¬ë¦½íŠ¸ ëŸ°íƒ€ì„ êµ¬ì„± ìš”ì†Œ

1. ë©”ëª¨ë¦¬ í™ (Memory Heap)
- ê°ì²´(ì°¸ì¡° íƒ€ì…)ê°€ ì €ì¥ë˜ëŠ” ê³µê°„
- ì˜ˆ: ë°°ì—´, ê°ì²´, í•¨ìˆ˜ ë“±ì€ ì´ê³³ì— ì €ì¥ë¨
- êµ¬ì¡°ì ìœ¼ë¡œëŠ” ë¹„ì •í˜•ì ì´ê³  ë™ì ìœ¼ë¡œ í• ë‹¹ë˜ëŠ” í° ê³µê°„
- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì´ í•„ìš”ì— ë”°ë¼ ë™ì ìœ¼ë¡œ í• ë‹¹í•˜ê³  ê´€ë¦¬í•¨
```
const obj = { name: 'ë³´ì„±' }; // objëŠ” Heapì— ì €ì¥ë¨
```
â¸»

2. ì½œ ìŠ¤íƒ (Call Stack)
- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œê°€ ì‹¤í–‰ë  ë•Œ, í•¨ìˆ˜ í˜¸ì¶œì´ ìŒ“ì´ê³  ì²˜ë¦¬ë˜ëŠ” ê³µê°„
- í•¨ìˆ˜ ì‹¤í–‰ â†’ ìŠ¤íƒì— push â†’ ì‹¤í–‰ ì™„ë£Œ â†’ pop
- LIFO (Last-In, First-Out) êµ¬ì¡°
- ìŠ¤íƒì´ ê°€ë“ ì°¨ë©´ â€œStack Overflowâ€ ë°œìƒ
```
function a() {
  b();
}
function b() {
  c();
}
function c() {
  console.log('Hello');
}

a(); // ì‹¤í–‰ ìˆœì„œ: a â†’ b â†’ c
```

â¸»

### ì´ë²¤íŠ¸ ë£¨í”„ ì‘ë™ ì›ë¦¬

3. Web APIs
- ë¸Œë¼ìš°ì €ê°€ ì œê³µí•˜ëŠ” ë¹„ë™ê¸° APIë“¤ (ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ ì™¸ë¶€ì—ì„œ ì‹¤í–‰)
- ì˜ˆ: setTimeout, fetch, addEventListener, DOM API, XHR, WebSocket, ë“±ë“±
- ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œë˜ë©´ ì½œë°±ì„ íë¡œ ë³´ëƒ„

â¸»

4. ì½œë°± í (Callback Queue ë˜ëŠ” Task Queue)
- Web APIì—ì„œ ì™„ë£Œëœ ë¹„ë™ê¸° ì‘ì—…ì˜ ì½œë°± í•¨ìˆ˜ê°€ ë“¤ì–´ê°€ëŠ” ê³³
- ëŒ€ê¸°ì—´ í˜•íƒœì´ë©°, FIFO (First-In, First-Out) êµ¬ì¡°
- setTimeout, setInterval, UI ì´ë²¤íŠ¸ ë“± ì¼ë°˜ì ì¸ ë¹„ë™ê¸° ì‘ì—…ì˜ ì½œë°±ì´ ì—¬ê¸°ì— ë“¤ì–´ê°

  - Promiseì˜ .then()ì´ë‚˜ async/awaitëŠ” ì´ íì— ë“¤ì–´ê°€ì§€ ì•ŠìŒ
    -> ê·¸ê±´ Microtask Queueë¼ëŠ” ë³„ë„ íì— ë“¤ì–´ê°

â¸»

5. ì´ë²¤íŠ¸ ë£¨í”„ (Event Loop)
- Call Stackì´ ë¹„ì—ˆëŠ”ì§€ ê³„ì† ê°ì‹œ
- ë¹„ì–´ ìˆìœ¼ë©´, Callback Queueì— ìŒ“ì¸ ì½œë°±ì„ í•˜ë‚˜ì”© êº¼ë‚´ Call Stackì— ë„£ì–´ ì‹¤í–‰
- ì´ë¥¼ í†µí•´ ë¹„ë™ê¸° ì‘ì—…ë„ ë§ˆì¹˜ ë™ì‹œì— ì²˜ë¦¬ë˜ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ê²Œ í•¨

â¸»

ğŸ¬ ì‘ë™ ìˆœì„œ ì˜ˆì‹œ
ì˜ˆì‹œ ì½”ë“œ
```
console.log("1");

setTimeout(() => {
  console.log("2");
}, 0);

console.log("3");
```

ê²°ê³¼
```
1
3
2
```

ì„¤ëª…
1.	console.log("1") â†’ ë°”ë¡œ ì‹¤í–‰ â†’ Stackì—ì„œ ë¹ ì§<br>
2.	setTimeout â†’ Web APIë¡œ ë³´ë‚´ì§ â†’ 0ms í›„ Callback Queueì— ì½œë°± ì €ì¥<br>
3.	console.log("3") â†’ ë°”ë¡œ ì‹¤í–‰<br>
4.	Call Stackì´ ë¹„ëŠ” ìˆœê°„ â†’ ì´ë²¤íŠ¸ ë£¨í”„ê°€ Callback Queueì—ì„œ () => console.log("2") êº¼ë‚´ Stackìœ¼ë¡œ ë³´ëƒ„<br>
5.	"2"ê°€ ì‹¤í–‰ë¨<br>

â¸»

### ë³´ì¶© ê°œë…

ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ í(Microtask Queue)
- Promise.then(), async/await, queueMicrotask() ë“±ì€ Microtask Queueì— ë“¤ì–´ê°
- Callback Queueë³´ë‹¤ ìš°ì„ ìˆœìœ„ê°€ ë†’ìŒ
- í•˜ë‚˜ì˜ Task ì‹¤í–‰ â†’ ê·¸ ì•ˆì—ì„œ ìƒì„±ëœ ëª¨ë“  Microtask ë¨¼ì € ì²˜ë¦¬ â†’ ë‹¤ìŒ Taskë¡œ ì´ë™
